<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">

<head>
    <title>PAE 2020 - 2021</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
    <article layout:fragment="content">
        <div id="content" th:text="#{greetings_vuejs}">Bienvenue sur le site de gestion du programme annuel des étudiants.</div></br>


        <!-- L'ID correspond ici à celui du fichier .js : le select possède un ID dans le modèle, chaque option est créée à partir de la liste des cours
        avec comme valeur l'identifiant du cours. -->
        <div id="requestData">
            <select v-model="id" @change="getCourse">
                <option value="" th:text="#{select_course_vuejs}" disabled selected>Choisissez un cours...</option>
                <option th:each="course: ${courses}" th:value="${course.id}" th:text = "${course.id} + ' - ' + ${course.title}">course</option>
            </select>
        </div>
        
    </br>

        <!-- Ce morceau correspond au texte affiché après sélection d'un cours : ses données sont remplacées dans le fichier .js après
        avoir cliqué sur l'un des cours. -->
        <div id="responseData" v-if="credits > 0">
            <span th:text="#{id_course_vuejs}">Sigle : </span> {{ id }} </br>
            <span th:text="#{title_course_vuejs}">Intitulé : </span> {{ title }} </br>
            <span th:text="#{credits_course_vuejs}">Nombre de crédits : </span>{{ credits }} </br>
        </div>

        <script th:src="@{/js/courses_vuejs.js}"></script>

    </article>

</body>

</html>