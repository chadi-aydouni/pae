<!DOCTYPE html>
<html
  lang="fr"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <head>
    <title th:text="#{course_detail_page_title}">Détail de cours</title>
  </head>

  <body>
    <article layout:fragment="content">
      <h2
        class="std_course_title"
        th:text="${course.id} + ' - ' + ${course.title}"
      >
        Titre du cours
      </h2>

      <div id="students_container">
        <!-- Voir fragments.html - student_list -->

        <div id="students_list">
          <h2 th:text="#{students_page_title}">Liste des étudiants</h2>
          <div
            th:replace="~{fragments/table.html::student_list(students=${course.registeredStudents})}"
          ></div>
        </div>
        <!-- Inscrire étudiant -->

        <div id="students_form" sec:authorize="hasAuthority('SECRETARIAT')">
          <h2 th:text="#{students_add_title}">Ajouter un étudiant</h2>

          <form
            th:action="@{/courses/register/{id}(id=${course.id})}"
            method="post"
            }
          >
            <div class="inputContainer">
              <label for="student_id" th:text="#{student_table_header_id}"
                >Numéro</label
              >
            </div>

            <input
              id="student_id"
              name="student_id"
              th:placeholder="#{placeholder_student_id}"
              type="number"
              required
            />

            <button type="submit" th:text="#{add_button}">Ajouter</button>
          </form>
        </div>
      </div>
    </article>
  </body>
</html>
